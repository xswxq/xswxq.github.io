<h1 id="hexo-generator-search"><a href="#hexo-generator-search" class="headerlink" title="hexo-generator-search"></a>hexo-generator-search</h1><p><a href="https://www.npmjs.com/package/hexo-generator-search"><img src="https://img.shields.io/npm/v/hexo-generator-search.svg" alt="npm"></a><br><a href="https://www.npmjs.com/package/hexo-generator-search"><img src="https://img.shields.io/npm/dm/hexo-generator-search.svg" alt="npm"></a></p>
<p>Generate search data for Hexo 3.x and 4.x. This plugin is used for generating a search index file, which contains all the neccessary data of your articles that you can use to write a local search engine for your blog. Supports both XML and JSON format output.</p>
<ul>
<li><a href="http://www.hahack.com/hexo-theme-freemind-blog/">Demo</a> - try out the search engine in this site.</li>
<li><a href="https://github.com/PaicHyperionDev/hexo-generator-search/blob/master/demo_output/search.json">Demo JSON output</a></li>
<li><a href="https://github.com/PaicHyperionDev/hexo-generator-search/blob/master/demo_output/search.xml">Demo XML output</a></li>
</ul>
<h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><pre><code class="bash">$ npm install hexo-generator-search --save
</code></pre>
<h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><p>You can configure this plugin in your root <code>_config.yml</code>.</p>
<pre><code class="yaml">search:
  path: search.xml
  field: post
  content: true
  template: ./search.xml
</code></pre>
<ul>
<li><strong>path</strong> - file path. By default is <code>search.xml</code> . If the file extension is <code>.json</code>, the output format will be JSON. Otherwise XML format file will be exported.</li>
<li><strong>field</strong> - the search scope you want to search, you can chose:<ul>
<li><strong>post</strong> (Default) - will only covers all the posts of your blog.</li>
<li><strong>page</strong> - will only covers all the pages of your blog.</li>
<li><strong>all</strong> - will covers all the posts and pages of your blog.</li>
</ul>
</li>
<li><strong>content</strong> - whether contains the whole content of each article. If <code>false</code>, the generated results only cover title and other meta info without mainbody. By default is <code>true</code>.</li>
<li><strong>template</strong> (Optional) - path to a custom XML template</li>
</ul>
<h2 id="Exclude-indexing"><a href="#Exclude-indexing" class="headerlink" title="Exclude indexing"></a>Exclude indexing</h2><p>To exclude a certain post or page from being indexed, you can simply insert <code>indexing: false</code> setting at the top of its front-matter, <em>e.g.</em>:</p>
<pre><code>title: &quot;Code Highlight&quot;
date: &quot;2014-03-15 20:17:16&quot;
tags: highlight
categories: Demo
description: &quot;A collection of Hello World applications from helloworld.org.&quot;
toc: true
indexing: false
---
</code></pre>
<p>Then the generated result will not contain this post or page.</p>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="What’s-this-plugin-supposed-to-do"><a href="#What’s-this-plugin-supposed-to-do" class="headerlink" title="What’s this plugin supposed to do?"></a>What’s this plugin supposed to do?</h3><p>This plugin is used for generating a xml &#x2F; json file from your Hexo blog that provides data for searching.</p>
<h3 id="Where’s-this-file-saved-to"><a href="#Where’s-this-file-saved-to" class="headerlink" title="Where’s this file saved to?"></a>Where’s this file saved to?</h3><p>After executing <code>hexo g</code> you will get the generated result at your public folder.</p>
<h3 id="How-to-use-this-plugin-in-my-Hexo-blog"><a href="#How-to-use-this-plugin-in-my-Hexo-blog" class="headerlink" title="How to use this plugin in my Hexo blog?"></a>How to use this plugin in my Hexo blog?</h3><p>You have two choices:</p>
<ul>
<li>you don’t want to write search engine by yourself. There are many themes that take use this plugin for local searching that works out of box. </li>
<li>you are familiar with Ajax and jQuery and would like to write your own search engine. You can implement one by yourself according to the example theme I give. Read the <a href="https://github.com/wzpan/hexo-theme-freemind">source code</a> of this theme. Generally there are 3 steps:<ol>
<li>write a <a href="https://github.com/wzpan/hexo-theme-freemind/blob/master/layout/_widget/search.ejs#L8">search view</a>. This is the place for displaying a search form and search results ;</li>
<li>write a <a href="https://github.com/wzpan/hexo-theme-freemind/blob/master/source/js/search.js">search script</a>. This script tells the browser how to grab search data and filter out contents what we’re searching;</li>
<li>tell hexo to <a href="https://github.com/wzpan/hexo-theme-freemind/blob/master/layout/_partial/after_footer.ejs#L22">connect the above two part</a>.</li>
</ol>
</li>
</ul>
